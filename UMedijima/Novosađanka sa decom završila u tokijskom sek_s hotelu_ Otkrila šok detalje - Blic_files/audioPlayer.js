define((function(){return function(){const e=document.getElementById("audio-player"),t=document.querySelector(".audio-player--play"),a=document.querySelector(".audio-player--backward"),s=document.querySelector(".audio-player--forward"),d=document.querySelector(".audio-player--volume button"),i=document.querySelector("#volume-slider"),n=document.querySelector(".audio-player--time");t.classList.contains("user-logged-in");let l=!1,o=!1;window.addEventListener("sso-event-birth-year-set",(r=>{if("locked-audio"===r.data.type&&(t.addEventListener("click",(()=>{-1!==r.data.value?l?(e.pause(),l=!1,t.classList.remove("is-playing"),d.className="",d.classList.add("volume")):(e.muted=!1,e.play(),l=!0,t.classList.add("is-playing"),d.className="",d.classList.add("volume-on"),n.classList.add("is-started")):window.open("/login?login_case=text_to_speech&source=text_to_speech_web","_self")})),-1!==r.data.value)){a.addEventListener("click",(()=>{l&&(e.currentTime-=10)})),s.addEventListener("click",(()=>{l&&(e.currentTime+=10)}));const n=document.getElementById("duration"),r=document.getElementById("current-time"),c=e=>{const t=Math.floor(e/60),a=Math.floor(e%60);return`${t}:${a<10?`0${a}`:`${a}`}`},u=()=>{n.textContent=c(e.duration)},m=()=>{r.textContent=c(e.currentTime)},F=()=>{r.textContent=c(e.currentTime)};let y,v;e.readyState>0?(u(),m()):e.addEventListener("loadedmetadata",(()=>{u(),m()})),e.addEventListener("timeupdate",F),d.addEventListener("click",(()=>{l&&(o?(e.muted=!1,o=!1,i.value=100*v,d.className="",d.classList.add(y),i.style.background=`linear-gradient(to right, #FFFFFF 0%, #FFFFFF ${100*v}%, #949494 ${100*v}%, #949494 100%)`):(y=d.className,e.muted=!0,o=!0,v=i.value/100,i.value=0,d.className="",d.classList.add("volume-off"),i.style.background="#949494"))})),i.addEventListener("input",(()=>{v=i.value/100,e.volume=v,0===v&&(e.muted=!0,o=!0,d.className="",d.classList.add("volume-off")),v>0&&l&&(e.muted=!1,o=!1,d.className="",d.classList.add("volume-on")),v>0&&!l&&(d.className="",d.classList.add("volume"))})),i.style.background=`linear-gradient(to right, #FFFFFF 0%, #FFFFFF ${v}%, #949494 ${v}%, #949494 100%)`,i.oninput=function(){this.style.background=`linear-gradient(to right, #FFFFFF 0%, #FFFFFF ${(this.value-this.min)/(this.max-this.min)*100}%, #949494 ${(this.value-this.min)/(this.max-this.min)*100}%, #949494 100%)`},e.onended=()=>{l=!1,t.classList.remove("is-playing"),d.className="",d.classList.add("volume")}}}));const r=document.querySelector(".audio-player"),c=r.getBoundingClientRect().top+window.scrollY-48;window.addEventListener("scroll",(()=>{window.pageYOffset>c?r.classList.add("audio-player--sticky"):r.classList.remove("audio-player--sticky")}))}()}));